<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Previsão do Tempo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"/>
    <link rel="stylesheet" href="style.css">
    <script>
        async function getAddressByCep() {
          const cep = document.getElementById('cep').value; 
          try {
            const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`); 
            const data = await response.json();
            console.log(data);
            document.getElementById('uf').value = data.uf;
            document.getElementById('logradouro').value = data.logradouro;
            document.getElementById('cidade').value = data.localidade; 
          } catch (error) {
            alert(error.message);
          }
        }
      
        async function getPrevisao() {
          const lat = document.getElementById('latitude').value;  
          const lon = document.getElementById('longitude').value;
          try {
            const response = await fetch(
              `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&hourly=temperature_2m,rain`);
            const data = await response.json();
            console.log(data);
            document.getElementById('resposta').innerHTML = "";
            for (
              let index = 0;
              index < data.hourly.temperature_2m.length;
              index++)
            {
              document.getElementById(
                'resposta'
              ).innerHTML += `<div>${data.hourly.time[index]} - ${data.hourly.temperature_2m[index]}</div>`;
            }
          
          } catch (error) {
            alert(error.message);
          }
        }
      
        function getLocation() {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
          } else {
            alert("Geolocation is not supported by this browser.");
          }
        }
      
        function showPosition(position) {
          document.getElementById('latitude').value = position.coords.latitude;
          document.getElementById('longitude').value = position.coords.longitude;
        }
      </script> 
</head>
<body>
  <!-- CABEÇALHO-->
    <div id="menu">
        <nav id="principal">
            <h1>Consulte o Tempo Agora</h1>
           <div id="direito">
            <a href="" >Endereços</a>
            <a href="" >Previsão do tempo</a>
           </div> 
        </nav>
    </div>
    <!-- CONTEXTO DA PESQUISA-->
    <div class="tempo">
    <div id="textoprincipal">
        Descubra Mais com Precisão:<br>
        Previsões do Tempo e endereços<br>
        em tempo real.
    </div>
    <div class="imagem mt-5">
        <img src="imagem/nuvem.svg" class=>
    </div>
   </div>
    <div id="formgeral">
        <form>
            <div class="form-group">
                <label>Primeiro Nome:</label>
                <input type="text" placeholder="Insira seu primeiro nome aqui">
           </div>
           <div class="form-group">
               <label>E-mail:</label>
               <input type="text" placeholder="Insira seu E-mail">
           </div>
           
           <div class="form-group">
            <label for="cep" class="col-sm-2 col-form-label">CEP</label>
               <input type="text" placeholder="Insira seu CEP">
           </div>
           <div id="lat-long">
           <div class="form-group">
               <label>Digite a latitude e longitude para saber a previsão::</label>
               <input type="text" placeholder="Latutide">
           </div>
           <div class="form-group">
                <input type="text" placeholder="Longitude">
           </div>
        <div class="form-group">
        <button class="btn btn-primary" onclick="getAddressByCep()">Acessar</button>
        </div>
       </form>
    </div>
  </div>
     
    <!--RESULTADO PESQUISA CEP-->
     <div class="container">
      <h1> Resultado da busca por CEP: ****</h1>
       <div id="menu-resul">
        <lu>Rua</lu>
        <lu>Cidade</lu>
        <lu>UF</lu>
       </div>
       <div id="resultado">
         <div>
          <input type="text"  id="logradouro">
         </div>
         <div>
          <input type="text" id="cidade">
         </div>
         <div>
          <input type="text" id="uf">
         </div>
      </div>
  <div class="imagem">
    <div>
      <h1 id="prev-tempo"> Previsão do tempo da região:</h1>
    </div>
      
      <div class="imagem mt-5">
        <img id="img"src="imagem/nuvem.svg" class=>
      </div>
  </div>
       <div id="resultado2">
         
       </div>
     </div>
  <div id="rodape">
      <nav id="principal">
        <div id="direito">
          <a href="" >Termo e Uso</a>
          <a href="" >Politica de Privacidade</a>
         </div> 
      </nav>
  </div>
    
    
  
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</body>
</html>